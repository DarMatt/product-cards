{"version":3,"sources":["components/ProductCard/ProductCard.jsx","components/ProductList/ProductList.jsx","components/NewProductCard/NewProductCard.jsx","App.js","components/api/api.jsx","reportWebVitals.js","index.js"],"names":["ProductCard","product","console","log","image","src","URL","createObjectURL","file","className","alt","name","Math","round","price","description","ProductList","products","map","id","NewProductCard","addProduct","useState","setProduct","setName","setPrice","setFile","setDescription","visible","setVisible","useEffect","Date","onSubmit","event","preventDefault","Error","type","placeholder","required","value","onChange","target","trimLeft","class","multiple","files","for","ImageThumb","App","setProducts","sortValue","setSortValue","numberFrom","setNumberFrom","numberTo","setNumberTo","currency","setCurrency","fetch","then","response","ok","json","productsFromServer","localStorage","getItem","JSON","parse","filteredProducts","useMemo","filter","sortedProducts","sort","a","b","localeCompare","Infinity","onClick","setItem","stringify","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.18a1e10f.chunk.js","sourcesContent":["import React from 'react';\nimport  './ProductCard.css';\n\nexport const ProductCard = ({ product }) => {\n  console.log(product.image)\n  const src = (product.image) ? `../../../${product.image}` : URL.createObjectURL(product.file);\n\n  return (\n    <>\n      <figure className=\"product-image-wrapper\">\n        <img className=\"product-image\"\n          src={src}\n          alt={product.name}\n        />\n      </figure>\n\n      <div className=\"product-inner\">\n        <h3 className=\"product-title\">{product.name}</h3>\n        <p className=\"product-price\">{Math.round(product.price)}</p>\n        <p className=\"product-desc\">{product.description}</p>\n      </div>\n    </>\n  )\n}","import React from 'react';\nimport { ProductCard } from '../ProductCard/ProductCard';\nimport './ProductList.css';\n\nexport const ProductList = ({ products }) => {\n  \n  return (\n    <>\n      <ul className=\"product-list\">\n        {products.map(product => (\n          <li className=\"product-item\" key={product.id}>\n            <ProductCard product={ product }/>\n          </li>\n        ))}\n      </ul>\n    </>\n  )\n}","import React, { useEffect, useState } from 'react';\nimport './NewProduct.css';\n\nexport const NewProductCard = ({addProduct}) => {\n  const [product, setProduct] = useState({});\n  const [name, setName] = useState('');\n  const [price, setPrice] = useState('');\n  const [file, setFile] = useState('');\n  const [description, setDescription] = useState('');\n  const [visible, setVisible] = useState(false);\n\n  useEffect(() => {\n    setProduct({\n      id : +new Date(),\n      name, price, file, description\n    })\n    console.log(product)\n  }, [name,price, file, description])\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(product.file)\n    if (product.file.Error) {\n      setVisible(true)\n    }\n\n      addProduct(product);\n\n    setName('');\n    setPrice('');\n    setDescription('');\n    setFile('');\n  }\n  console.log(visible)\n\n  const handleUpload = (event) => {\n    setFile(event.target.files[0]);\n  }\n\n  // console.log(product);\n\n  return (\n    <form className=\"new-product\"\n      onSubmit={handleSubmit}\n    >\n      <label className=\"new-product-label\">\n        Имя\n        <input\n          type=\"text\"\n          placeholder=\"Name\"\n          className=\"new-product-input new-name\"\n          required\n          value={name}\n          onChange={(event) => setName(event.target.value.trimLeft())}\n        />\n      </label>\n  \n      <label className=\"new-product-label\" />\n        Цена\n      <input\n        type=\"number\"\n        // value=\"1000\"\n        required\n        className=\"new-product-input new-price\"\n        value={price}\n        onChange={(event) => setPrice(event.target.value)}\n      />\n      \n      <div class=\"input__wrapper\" id=\"upload-box\">\n        <input\n          name=\"file\"\n          type=\"file\"\n          id=\"input__file\"\n          required\n          class=\"input input__file\"\n          multiple\n          onChange={handleUpload}\n        />\n        {!visible ? (\n          <p className=\"hidden\"></p>\n        ) : (\n          <p className=\"visible\">Не выбрано изображение</p>\n          )}\n        <div className=\"art\">Изображение</div> \n        <label for=\"input__file\" class=\"input__file-button\">\n          <span class=\"input__file-icon-wrapper\">\n            +  \n          </span>\n        </label>\n        {file && <ImageThumb image={file} />}\n      </div>\n  \n      <textarea\n        placeholder=\"Description\"\n        className=\"new-product-label\"\n        required\n        value={description}\n        onChange={(event) => setDescription(event.target.value.trimLeft())}\n      >\n\n      </textarea>\n      <button type=\"submit\" className=\"new-product-save\">Save</button>\n    </form>\n  )\n}\n\nconst ImageThumb = ({ image }) => {\n  return <img src={URL.createObjectURL(image)} alt={image.name} />;\n};","import React, { useEffect, useMemo, useState } from 'react';\nimport { getProducts } from './components/api/api.jsx';\nimport { ProductList } from './components/ProductList/ProductList.jsx';\nimport './App.css';\nimport { NewProductCard } from './components/NewProductCard/NewProductCard.jsx';\n\nexport const App = () => {\n  const [products, setProducts] = useState([]);\n  const [sortValue, setSortValue] = useState('alphabetically');\n  const [numberFrom, setNumberFrom] = useState(0);\n  const [numberTo, setNumberTo] = useState(100000);\n  const [currency, setCurrency] = useState('UAH')\n\n\n  useEffect(() => {\n    getProducts().then(productsFromServer => {\n      setProducts(productsFromServer.products)\n    })\n  }, []);\n\n  useEffect(() => {\n    if (!localStorage.getItem('products')) {\n      setProducts(JSON.parse(localStorage.getItem('products')));\n    } else {\n      setProducts(JSON.parse(localStorage.getItem('products')));\n    }\n\n  }, []);\n\n\n  const addProduct = (product) => {\n    setProducts([...products, product]);\n    localStorage.setItem('products', JSON.stringify([...products, product]));\n  }\n  \n  let filteredProducts = useMemo(() => products.filter((product) => {\n    return product.price >= numberFrom && product.price <= numberTo\n  }), [numberTo, numberFrom, sortValue, products])\n\n  console.log(currency)\n\n  const sortedProducts = useMemo(() => {\n     switch (sortValue) {\n      case 'alphabetically':\n       return  [...filteredProducts].sort((a, b) => (\n          a.name.localeCompare(b.name)\n        ))\n\n      case 'ascending':\n        return[...filteredProducts].sort((a, b) => (\n          a.price - b.price\n        ))\n  \n      case 'descending':\n        return [...filteredProducts].sort((a, b) => (\n          b.price - a.price\n        ));\n       \n        default:\n        return filteredProducts\n    }\n  },[sortValue, filteredProducts])\n  \n\n  useEffect(() => {\n    setProducts(products.map(product => {\n      if (currency === 'USD') {\n        return {\n          ...product,\n          price: +product.price / 28\n        };\n      } else {\n        return {\n          ...product,\n          price: +product.price * 28\n        }\n      }\n    }))\n  }, [currency])\n\n\n  \n  // const changePriceToUSD = () => {\n  //   setProducts(products.map(product => {\n  //     return {\n  //       ...product,\n  //       price: +product.price * 28\n  //     }\n  //   }))\n  // }\n  // console.log(numberFrom)\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"content\">\n        <div className=\"content-sort\">\n          <form>\n            <h2 className=\"content-price\">Цена</h2>\n            <div className=\"content-inner-label\">\n            <label className=\"content-from-label\">\n                от:\n              <input\n                  className=\"content-from\"\n                  type=\"number\"\n                  onChange={(event) => setNumberFrom(event.target.value)}\n              />\n              </label>\n              <label className=\"content-to-label\">\n                до:\n              <input\n                  type=\"number\"\n                  className=\"content-to\"\n                  onChange={(event) => {\n                    if (!event.target.value) {\n                      setNumberTo(Infinity)\n                    } else {\n                      setNumberTo(event.target.value)\n                    }}}\n                />\n              </label>\n              </div>\n            <h2 className=\"currency\">Валюта</h2>\n            <button\n              className=\"usd\"\n              type=\"button\"\n              value=\"USD\"\n              onClick={(event) => setCurrency(event.target.value)}>\n              USD\n              </button>\n            <button\n              className=\"uah\"\n              type=\"button\"\n              value=\"UAH\"\n              onClick={(event) => setCurrency(event.target.value)}>\n              UAH\n              </button>\n            <h2 className=\"content-sorting\">Сортировка</h2>\n            <label className=\"radio-button\">\n              <input\n                className=\"radio-input\"\n                type=\"radio\"\n                name=\"sorting\"\n                value=\"ascending\"\n                onClick={(event) => setSortValue(event.target.value)}\n              />\n              по возростанию цены\n            </label>\n\n            <label className=\"radio-button\">\n              <input\n                className=\"radio-input\"\n                type=\"radio\"\n                name=\"sorting\"\n                value=\"descending\"\n                onClick={(event) => setSortValue(event.target.value)}\n            />\n              по убыванию цены\n            </label>\n\n            <label className=\"radio-button\">\n              <input\n                className=\"radio-input\"\n                type=\"radio\"\n                name=\"sorting\"\n                value=\"alphabetically\"\n                onClick={(event) => setSortValue(event.target.value)}\n              />\n              по алфавиту\n            </label>\n          </form>\n          <NewProductCard addProduct={addProduct} />\n          </div>\n        <div className=\"product-list\">\n          <ProductList products={ sortedProducts }/>\n        </div>\n      </div>\n    </div>\n  )\n}\n","const MAIN_URL = 'https://darmatt.github.io/product-cards';\n\nexport const getProducts = () => {\n  return fetch(`${MAIN_URL}/api/products.json`)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n    })\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}